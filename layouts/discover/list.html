{{ define "main" }}
<!-- Hero Section -->
<header class="hero hero-explore">
    <h1 class="hero-title">Discover</h1>
    <p class="hero-tagline">{{ .Site.Data.topic_clusters_all.num_clusters }} topics, {{ .Site.Data.topic_clusters_all.num_items }} resources to discover.</p>
</header>

<!-- Cluster Data for JavaScript -->
<script id="cluster-data" type="application/json">
{{ .Site.Data.topic_clusters_all | jsonify }}
</script>

<!-- All Items Data (unified from all sources) -->
<script id="all-items-data" type="application/json">
{
    "packages": {{ .Site.Data.packages | jsonify }},
    "resources": {{ .Site.Data.resources | jsonify }},
    "datasets": {{ .Site.Data.datasets | jsonify }},
    "talks": {{ .Site.Data.talks | jsonify }},
    "career": {{ .Site.Data.career | jsonify }},
    "community": {{ .Site.Data.community | jsonify }},
    "books": {{ .Site.Data.books | jsonify }}
}
</script>

<div class="explore-container">
    <!-- Controls Row -->
    <div class="explore-controls">
        <button id="shuffle-btn" class="shuffle-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="16 3 21 3 21 8"></polyline>
                <line x1="4" y1="20" x2="21" y2="3"></line>
                <polyline points="21 16 21 21 16 21"></polyline>
                <line x1="15" y1="15" x2="21" y2="21"></line>
                <line x1="4" y1="4" x2="9" y2="9"></line>
            </svg>
            Shuffle
        </button>
    </div>

    <!-- Cluster Rows Container -->
    <div id="explore-rows" class="explore-rows">
        <!-- Dynamically populated by JavaScript -->
    </div>

    <!-- Loading indicator for lazy load -->
    <div id="explore-loader" class="explore-loader">
        <div class="loader-spinner"></div>
    </div>
</div>

<script src="{{ "js/explore.js" | relURL }}" defer></script>
{{ end }}
